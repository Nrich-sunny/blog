---
title: é¢å‘å¯¹è±¡è¿›é˜¶6ï¼ˆé›†åˆä½“ç³»ä¹‹Mapï¼‰
date: 2023-03-30 11:30:45
permalink: /pages/134c54/
categories:
  - å¼€å‘
  - Java
  - é»‘é©¬Javaå…¥é—¨åŸºç¡€-å­¦ä¹ ç¬”è®°
tags:
  - 
---

## 1. Map é›†åˆ

### 1.1 å…³äº Map é›†åˆè‡ªèº«

Map é›†åˆæ˜¯ä¸€ç§åŒåˆ—é›†åˆï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œé”®å€¼å¯¹é›†åˆâ€ã€‚æ¯ä¸ªå…ƒç´ åŒ…å«ä¸¤ä¸ªæ•°æ®ã€‚æ¯ä¸ªå…ƒç´ çš„æ ¼å¼ï¼š`key=value(é”®å€¼å¯¹å…ƒç´ )`

Map é›†åˆçš„å®Œæ•´æ ¼å¼ï¼š

`{key1=value1 , key2=value2 , key3=value3 , ...}`

> Collectioné›†åˆçš„æ ¼å¼: [å…ƒç´ 1,å…ƒç´ 2,å…ƒç´ 3..]

Map é›†åˆéå¸¸é€‚åˆåšè´­ç‰©è½¦è¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ã€‚

### 1.2 Map é›†åˆä½“ç³»

<center><img src="https://blog-1310567564.cos.ap-beijing.myqcloud.com/img/20230330145947.png" alt="$uploadName" style="zoom:75%;" /></center>

ä½¿ç”¨æœ€å¤šçš„ Map é›†åˆæ˜¯ HashMapã€‚

é‡ç‚¹æŒæ¡ HashMap , LinkedHashMap , TreeMapã€‚å…¶ä»–çš„åç»­ç†è§£ã€‚

**Map é›†åˆä½“ç³»çš„ç‰¹ç‚¹**ï¼š

- Map é›†åˆçš„ç‰¹ç‚¹éƒ½æ˜¯ç”±é”®å†³å®šçš„ã€‚
- Map é›†åˆçš„<u>é”®æ˜¯æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•çš„</u>ï¼Œå€¼ä¸åšè¦æ±‚ï¼ˆå¯ä»¥é‡å¤ï¼‰ã€‚
- Map é›†åˆåé¢é‡å¤çš„é”®å¯¹åº”çš„å€¼ä¼šè¦†ç›–å‰é¢é‡å¤é”®çš„å€¼ã€‚
- Map é›†åˆçš„é”®å€¼å¯¹éƒ½å¯ä»¥ä¸º nullã€‚

**Map é›†åˆå®ç°ç±»ç‰¹ç‚¹**:

- HashMap: å…ƒç´ æŒ‰ç…§é”®æ˜¯æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ï¼Œå€¼ä¸åšè¦æ±‚ã€‚ï¼ˆä¸Mapä½“ç³»ä¸€è‡´ï¼‰
- LinkedHashMap: å…ƒç´ æŒ‰ç…§é”®æ˜¯<u>æœ‰åº</u>ï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ï¼Œå€¼ä¸åšè¦æ±‚ã€‚
- TreeMapï¼šå…ƒç´ æŒ‰ç…§å»ºæ˜¯<u>æ’åº</u>ï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•çš„ï¼Œå€¼ä¸åšè¦æ±‚ã€‚

**Map é›†åˆå¸¸ç”¨ API**:

è¯´æ˜ï¼šMap æ˜¯åŒåˆ—é›†åˆçš„ç¥–å®—æ¥å£ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å…¨éƒ¨åŒåˆ—é›†åˆéƒ½å¯ä»¥ç»§æ‰¿ä½¿ç”¨çš„ã€‚

| æ–¹æ³•åç§°                            | è¯´æ˜                                 |
| ----------------------------------- | ------------------------------------ |
| V  put(K key,V value)               | æ·»åŠ å…ƒç´                              |
| V  remove(Object key)               | æ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹å…ƒç´                  |
| void  clear()                       | ç§»é™¤æ‰€æœ‰çš„é”®å€¼å¯¹å…ƒç´                  |
| boolean containsKey(Object key)     | åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®             |
| boolean containsValue(Object value) | åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼             |
| boolean isEmpty()                   | åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º                     |
| int  size()                         | é›†åˆçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯é›†åˆä¸­é”®å€¼å¯¹çš„ä¸ªæ•° |

### 1.3 Map é›†åˆçš„éå†

Map é›†åˆéå†æœ‰ä¸‰ç§æ–¹å¼ï¼š

- é”®æ‰¾å€¼çš„æ–¹å¼éå†ï¼šå…ˆè·å–Mapé›†åˆå…¨éƒ¨çš„é”®ï¼Œå†æ ¹æ®éå†é”®æ‰¾å€¼ã€‚
- é”®å€¼å¯¹çš„æ–¹å¼éå†ï¼ŒæŠŠâ€œé”®å€¼å¯¹â€œçœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œéš¾åº¦è¾ƒå¤§ã€‚
- JDK 1.8å¼€å§‹ä¹‹åçš„æ–°æŠ€æœ¯ï¼šLambdaè¡¨è¾¾å¼ã€‚

#### 1.3.1 éå†æ–¹å¼ä¸€ï¼šé”®æ‰¾å€¼

ç¤ºä¾‹ä»£ç ï¼š

```java{19,22}
/**
    a.â€œé”®æ‰¾å€¼â€çš„æ–¹å¼éå†Mapé›†åˆã€‚
        1.å…ˆè·å–Mapé›†åˆçš„å…¨éƒ¨é”®çš„Seté›†åˆã€‚
        2.éå†é”®çš„Seté›†åˆï¼Œç„¶åé€šè¿‡é”®æ‰¾å€¼ã€‚
 */
public class MapDemo01 {
    public static void main(String[] args) {
        Map<String , Integer> maps = new HashMap<>();
        // 1.æ·»åŠ å…ƒç´ : æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
        maps.put("å¨ƒå¨ƒ",30);
        maps.put("iphoneX",100);
        maps.put("huawei",1000);
        maps.put("ç”Ÿæ´»ç”¨å“",10);
        maps.put("æ‰‹è¡¨",10);
        System.out.println(maps);
        // maps = {huawei=1000, æ‰‹è¡¨=10, ç”Ÿæ´»ç”¨å“=10, iphoneX=100, å¨ƒå¨ƒ=30}

        // 1ã€é”®æ‰¾å€¼ï¼šç¬¬ä¸€æ­¥ï¼šå…ˆæ‹¿åˆ°é›†åˆçš„å…¨éƒ¨é”®ã€‚
        Set<String> keys = maps.keySet();
        // 2ã€ç¬¬äºŒæ­¥ï¼šéå†æ¯ä¸ªé”®ï¼Œæ ¹æ®é”®æå–å€¼
        for (String key : keys) {
            int value = maps.get(key);
            System.out.println(key + "===>" + value);
        }

    }
}
```

#### 1.3.2 éå†æ–¹å¼äºŒï¼šé”®å€¼å¯¹æµç¨‹

ç¤ºä¾‹ä»£ç ï¼š

```java{27,30-31}
/**
    b.â€œé”®å€¼å¯¹â€çš„æ–¹å¼éå†ï¼š
        1.æŠŠMapé›†åˆè½¬æ¢æˆä¸€ä¸ªSeté›†åˆ:Set<Map.Entry<K, V>> entrySet();
        2.æ­¤æ—¶é”®å€¼å¯¹å…ƒç´ çš„ç±»å‹å°±ç¡®å®šäº†ï¼Œç±»å‹æ˜¯é”®å€¼å¯¹å®ä½“ç±»å‹ï¼šMap.Entry<K, V>
        3.æ¥ä¸‹æ¥å°±å¯ä»¥ç”¨foreachéå†è¿™ä¸ªSeté›†åˆï¼Œç±»å‹ç”¨Map.Entry<K, V>
 */
public class MapDemo02 {
    public static void main(String[] args) {
        Map<String , Integer> maps = new HashMap<>();
        // 1.æ·»åŠ å…ƒç´ : æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
        maps.put("å¨ƒå¨ƒ",30);
        maps.put("iphoneX",100);
        maps.put("huawei",1000);
        maps.put("ç”Ÿæ´»ç”¨å“",10);
        maps.put("æ‰‹è¡¨",10);
        System.out.println(maps);
        /**
            maps = {huawei=1000, æ‰‹è¡¨=10, ç”Ÿæ´»ç”¨å“=10, iphoneX=100, å¨ƒå¨ƒ=30}
                ğŸ‘‡
            ä½¿ç”¨foreachéå†mapé›†åˆ.å‘ç°Mapé›†åˆçš„é”®å€¼å¯¹å…ƒç´ ç›´æ¥æ˜¯æ²¡æœ‰ç±»å‹çš„ã€‚æ‰€ä»¥ä¸å¯ä»¥ç›´æ¥foreachéå†é›†åˆã€‚
                ğŸ‘‡
            å¯ä»¥é€šè¿‡è°ƒç”¨Mapçš„æ–¹æ³• entrySetæŠŠMapé›†åˆè½¬æ¢æˆSeté›†åˆå½¢å¼  maps.entrySet();
                ğŸ‘‡
            æ­¤æ—¶å¯ä»¥ä½¿ç”¨foreachéå†
       */
       // 1ã€æŠŠMapé›†åˆè½¬æ¢æˆSeté›†åˆ
        Set<Map.Entry<String, Integer>> entries = maps.entrySet();
        // 2ã€å¼€å§‹éå†
        for(Map.Entry<String, Integer> entry : entries){
            String key = entry.getKey();
            int value = entry.getValue();
            System.out.println(key + "====>" + value);
        }
    }
}
```

#### 1.3.3 éå†æ–¹å¼ä¸‰ï¼šLambda

ç¤ºä¾‹ä»£ç ï¼š

```java{24-25}
/**
    c.JDK 1.8å¼€å§‹ä¹‹åçš„æ–°æŠ€æœ¯ï¼šLambdaè¡¨è¾¾å¼ã€‚ï¼ˆæš‚æ—¶äº†è§£ï¼‰
 */
public class MapDemo03 {
    public static void main(String[] args) {
        Map<String , Integer> maps = new HashMap<>();
        // 1.æ·»åŠ å…ƒç´ : æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
        maps.put("å¨ƒå¨ƒ",30);
        maps.put("iphoneX",100);//  Mapé›†åˆåé¢é‡å¤çš„é”®å¯¹åº”çš„å…ƒç´ ä¼šè¦†ç›–å‰é¢é‡å¤çš„æ•´ä¸ªå…ƒç´ ï¼
        maps.put("huawei",1000);
        maps.put("ç”Ÿæ´»ç”¨å“",10);
        maps.put("æ‰‹è¡¨",10);
        System.out.println(maps);

        //  maps = {huawei=1000, æ‰‹è¡¨=10, ç”Ÿæ´»ç”¨å“=10, iphoneX=100, å¨ƒå¨ƒ=30}

//        maps.forEach(new BiConsumer<String, Integer>() {
//            @Override
//            public void accept(String key, Integer value) {
//                System.out.println(key + "--->" + value);
//            }
//        });

        maps.forEach((k, v) -> {
                System.out.println(k + "--->" + v);
        });

    }
}
```

### 1.4 Map é›†åˆä¹‹å®ç°ç±»

#### 1.4.1 HashMap

HashMap æ˜¯ Map é‡Œé¢çš„ä¸€ä¸ªå®ç°ç±»ã€‚

**HashMap çš„ç‰¹ç‚¹**ï¼š

- HashMap ç‰¹ç‚¹éƒ½æ˜¯ç”±é”®å†³å®šçš„ï¼šæ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•ã€‚
- æ²¡æœ‰é¢å¤–éœ€è¦å­¦ä¹ çš„ç‰¹æœ‰æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨ Map é‡Œé¢çš„æ–¹æ³•å°±å¯ä»¥äº†ã€‚
- HashMap è·Ÿ HashSet åº•å±‚åŸç†æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å“ˆå¸Œè¡¨ç»“æ„ï¼Œåªæ˜¯ HashMap çš„æ¯ä¸ªå…ƒç´ åŒ…å«ä¸¤ä¸ªå€¼è€Œå·²ã€‚

<font color="red">å®é™…ä¸Šï¼šSet ç³»åˆ—é›†åˆçš„åº•å±‚å°±æ˜¯ Map å®ç°çš„ï¼Œåªæ˜¯ Set é›†åˆä¸­çš„å…ƒç´ åªè¦é”®æ•°æ®ï¼Œä¸è¦å€¼æ•°æ®</font>ã€‚

æºç ï¼š

```java
public HashSet() {
    map = new HashMap<>();
}
```

